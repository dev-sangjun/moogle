(this.webpackJsonpmoogle=this.webpackJsonpmoogle||[]).push([[0],{48:function(e,n,t){e.exports=t(64)},53:function(e,n,t){},64:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(38),i=t.n(o),c=(t(53),t(47)),l=t(5),s=t(11),m=t(20),u=t(13);function d(){var e=Object(s.a)(['\n  font-family: "Noto Serif KR", serif;\n  font-weight: lighter;\n  font-size: 3em;\n  text-align: center;\n  user-select: none;\n']);return d=function(){return e},e}var f=Object(u.b)((function(e){var n=e.className;return r.a.createElement("h1",{className:"".concat(n," logo")},"Moogle")}))(d()),g=t(26),h=t(29),b=t(31),v=t.n(b),p=t(40),w=t.n(p),x=function(e){return new Date(e).getFullYear()},E="#ffffff",j=function(e){var n,t="";return e<=3?(n="#ff6529",t=E):e<=5?(n="#ff9f29",t=E):e<=6?(n="#ffd129",t=E):e<=8?(n="#4d96f0",t=E):e<=10&&(n="#6bc7a2",t=E),{bg:n,text:t}};function N(){var e=Object(s.a)(["\n  position: relative;\n  background-color: transparent;\n  border-radius: 0.25rem;\n  color: white;\n  .spinner-container {\n    width: 1.25rem;\n    height: 1.25rem;\n    position: absolute;\n    top: 0;\n    right: 0.375rem;\n    transform: translateY(0.375rem);\n  }\n"]);return N=function(){return e},e}function y(){var e=Object(s.a)(["\n  list-style: none;\n  width: 100%;\n  background-color: rgba(80, 80, 80, 1);\n  user-select: none;\n  max-height: 20rem;\n  overflow: scroll;\n  opacity: 0.8;\n  .suggestion {\n    display: flex;\n    justify-content: space-between;\n    padding: 0.5rem;\n    &:hover {\n      background-color: rgba(120, 120, 120, 1);\n    }\n  }\n"]);return y=function(){return e},e}function O(){var e=Object(s.a)(["\n  width: 100%;\n  background-color: rgba(80, 80, 80, 1);\n  font-size: 1em;\n  color: white;\n  height: 2rem;\n  border: none;\n  padding: 0 0.5rem;\n  &:focus {\n    outline: none;\n  }\n  &::placeholder {\n    color: rgba(200, 200, 200, 1);\n  }\n"]);return O=function(){return e},e}function k(){var e=Object(s.a)(["\n  query searchMovie($keyword: String!) {\n    movies(keyword: $keyword) {\n      id\n      title\n      overview\n      rating\n      release_date\n      poster_path\n    }\n  }\n"]);return k=function(){return e},e}var z=Object(g.b)(k()),S=u.b.input.attrs((function(){return{type:"text",placeholder:"Search..."}}))(O()),_=u.b.ul(y()),C=Object(u.b)((function(e){var n=e.className,t=e.onSuggestionClick,o=Object(a.useState)(""),i=Object(m.a)(o,2),c=i[0],l=i[1],s=Object(a.useState)(!1),u=Object(m.a)(s,2),d=u[0],f=u[1],g=Object(a.useRef)(),b=function(e){var n=Number(e.target.dataset.index);t(N.movies[n]),f(!1)},p=Object(h.a)(z,{variables:{keyword:c}}),E=p.error,j=p.loading,N=p.data;return Object(a.useEffect)((function(){document.addEventListener("mousedown",(function(e){e.target.classList.contains("suggestion")||v()(c)||e.target===g.current||f(!1)}))})),E&&console.log(E.message),r.a.createElement("div",{className:n},r.a.createElement(S,{onChange:function(e){l(e.target.value),f(!0)},value:c,ref:g}),!v()(c)&&j&&r.a.createElement("div",{className:"spinner-container"},r.a.createElement(w.a,{className:"spinner",size:"20",color:"white"})),r.a.createElement(_,null,d&&N&&N.movies.map((function(e,n){return r.a.createElement("li",{className:"suggestion",key:e.id,onClick:b,"data-index":n},r.a.createElement("span",{className:"suggestion-title"},e.title),r.a.createElement("span",{className:"suggestion-release-date"},x(e.release_date)))}))))}))(N());function Y(){var e=Object(s.a)(["\n  position: relative;\n  width: 300px;\n  height: 500px;\n  box-shadow: 0 0 1rem 0 rgba(0, 0, 0, 0.2);\n  border-radius: 0.5rem;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  user-select: none;\n  .img-container {\n    position: relative;\n    height: 70%;\n    overflow: hidden;\n    transform: skewY(-10deg) translateY(-3.5rem);\n    box-shadow: 0 0 1rem 0 rgba(0, 0, 0, 0.2);\n    img {\n      height: 20rem;\n      object-fit: cover;\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      z-index: 1;\n    }\n  }\n  .rating {\n    display: block;\n    position: absolute;\n    top: 60%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    background-color: ",";\n    color: ",';\n    font-weight: bold;\n    text-align: center;\n    line-height: 4rem;\n    width: 4rem;\n    height: 4rem;\n    font-size: 1.2em;\n    border-radius: 50%;\n    box-shadow: 0 0 1rem 0 rgba(0, 0, 0, 0.2);\n  }\n  .movie-info {\n    position: relative;\n    z-index: 2;\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    padding: 1rem;\n    .title-date-container {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      margin-bottom: 0.5rem;\n      .movie-title {\n        flex: 1;\n        font-size: 1.5em;\n        font-weight: bold;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n      }\n      .release-date {\n        font-size: 1.2em;\n        width: 3rem;\n        text-align: center;\n      }\n    }\n    .overview {\n      position: relative;\n      height: 4.8em;\n      line-height: 1.2em;\n      font-size: 1em;\n      word-wrap: break-word;\n      overflow: hidden;\n      &:after {\n        content: "";\n        text-align: right;\n        position: absolute;\n        bottom: 0;\n        right: 0;\n        width: 50%;\n        height: 1.2em;\n        background: linear-gradient(\n          to right,\n          rgba(255, 255, 255, 0),\n          rgba(255, 255, 255, 1) 50%\n        );\n      }\n    }\n  }\n']);return Y=function(){return e},e}var $=Object(u.b)((function(e){var n=e.className,t=e.movie,a=t.title,o=t.overview,i=t.rating,c=t.release_date,l=t.poster_path;return r.a.createElement("div",{className:n},r.a.createElement("div",{className:"img-container"},r.a.createElement("img",{src:l,alt:"".concat(a),draggable:"false"})),r.a.createElement("span",{className:"rating"},i),r.a.createElement("div",{className:"movie-info"},r.a.createElement("div",{className:"title-date-container"},r.a.createElement("span",{className:"movie-title"},a),r.a.createElement("span",{className:"release-date"},x(c))),r.a.createElement("p",{className:"overview"},o)))}))(Y(),(function(e){return j(e.movie.rating).bg}),(function(e){return j(e.movie.rating).text}));function q(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 2rem;\n  .search-form {\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    "," {\n      width: 70%;\n      position: absolute;\n      z-index: 2;\n    }\n  }\n  .search-result {\n    position: relative;\n    top: 4rem;\n  }\n"]);return q=function(){return e},e}var B=Object(u.b)((function(e){var n=e.className,t=Object(a.useState)(),o=Object(m.a)(t,2),i=o[0],c=o[1];return r.a.createElement("div",{className:n},r.a.createElement("form",{className:"search-form",onSubmit:function(e){return e.preventDefault()}},r.a.createElement(C,{onSuggestionClick:function(e){c(e)}})),r.a.createElement("div",{className:"search-result"},i&&r.a.createElement($,{movie:i})))}))(q(),C);function D(){var e=Object(s.a)(["\n  * {\n    padding: 0;\n    margin: 0;\n    box-sizing: border-box;\n  }\n  .logo {\n    margin-top: 2rem;\n  }\n"]);return D=function(){return e},e}var J=Object(u.a)(D());var L=function(){return r.a.createElement(c.a,{className:"App"},r.a.createElement(f,null),r.a.createElement(l.a,{exact:!0,path:"/",component:B}),r.a.createElement(J,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var M=t(9),R=new g.a({uri:"https://movie-api-graphql.herokuapp.com"});i.a.render(r.a.createElement(M.a,{client:R},r.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[48,1,2]]]);
//# sourceMappingURL=main.2cbfb960.chunk.js.map