(this.webpackJsonpmoogle=this.webpackJsonpmoogle||[]).push([[0],{39:function(e,n,t){e.exports=t(53)},44:function(e,n,t){},53:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),o=t(29),i=t.n(o),c=(t(44),t(10)),s=t(14),l=t(11);function m(){var e=Object(c.a)(['\n  font-family: "Noto Serif KR", serif;\n  font-weight: lighter;\n  font-size: 3em;\n  text-align: center;\n  user-select: none;\n']);return m=function(){return e},e}var u=Object(l.b)((function(e){var n=e.className;return r.a.createElement("h1",{className:"".concat(n," logo")},"Moogle")}))(m()),d=t(21),f=t(23),g=t(26),h=t.n(g),b=t(31),v=t.n(b),p=function(e){return new Date(e).getFullYear()},w="#ffffff",x=function(e){var n,t="";return e<=3?(n="#ff6529",t=w):e<=5?(n="#ff9f29",t=w):e<=6?(n="#ffd129",t=w):e<=8?(n="#4d96f0",t=w):e<=10&&(n="#6bc7a2",t=w),{bg:n,text:t}};function E(){var e=Object(c.a)(["\n  position: relative;\n  background-color: transparent;\n  border-radius: 0.25rem;\n  color: white;\n  .spinner-container {\n    width: 1.25rem;\n    height: 1.25rem;\n    position: absolute;\n    top: 0;\n    right: 0.375rem;\n    transform: translateY(0.375rem);\n  }\n"]);return E=function(){return e},e}function N(){var e=Object(c.a)(["\n  list-style: none;\n  width: 100%;\n  background-color: rgba(80, 80, 80, 1);\n  user-select: none;\n  max-height: 20rem;\n  overflow: scroll;\n  opacity: 0.8;\n  .suggestion {\n    display: flex;\n    justify-content: space-between;\n    padding: 0.5rem;\n    &:hover {\n      background-color: rgba(120, 120, 120, 1);\n    }\n  }\n"]);return N=function(){return e},e}function j(){var e=Object(c.a)(["\n  width: 100%;\n  background-color: rgba(80, 80, 80, 1);\n  font-size: 1em;\n  color: white;\n  height: 2rem;\n  border: none;\n  padding: 0 0.5rem;\n  &:focus {\n    outline: none;\n  }\n  &::placeholder {\n    color: rgba(200, 200, 200, 1);\n  }\n"]);return j=function(){return e},e}function k(){var e=Object(c.a)(["\n  query searchMovie($keyword: String!) {\n    movies(keyword: $keyword) {\n      id\n      title\n      overview\n      rating\n      release_date\n      poster_path\n    }\n  }\n"]);return k=function(){return e},e}var y=Object(d.b)(k()),O=l.b.input.attrs((function(){return{type:"text",placeholder:"Search..."}}))(j()),z=l.b.ul(N()),S=Object(l.b)((function(e){var n=e.className,t=e.onSuggestionClick,o=Object(a.useState)(""),i=Object(s.a)(o,2),c=i[0],l=i[1],m=Object(a.useState)(!1),u=Object(s.a)(m,2),d=u[0],g=u[1],b=Object(a.useRef)(),w=function(e){var n=Number(e.target.dataset.index);t(j.movies[n]),g(!1)},x=Object(f.a)(y,{variables:{keyword:c}}),E=x.error,N=x.loading,j=x.data;return Object(a.useEffect)((function(){document.addEventListener("mousedown",(function(e){e.target.classList.contains("suggestion")||h()(c)||e.target===b.current||g(!1)}))})),E&&console.log(E.message),r.a.createElement("div",{className:n},r.a.createElement(O,{onChange:function(e){l(e.target.value),g(!0)},value:c,ref:b}),!h()(c)&&N&&r.a.createElement("div",{className:"spinner-container"},r.a.createElement(v.a,{className:"spinner",size:"20",color:"white"})),r.a.createElement(z,null,d&&j&&j.movies.map((function(e,n){return r.a.createElement("li",{className:"suggestion",key:e.id,onClick:w,"data-index":n},r.a.createElement("span",{className:"suggestion-title"},e.title),r.a.createElement("span",{className:"suggestion-release-date"},isNaN(e.release_date)?p(e.release_date):"Unknown"))}))))}))(E()),_=t(38);function C(){var e=Object(c.a)(["\n  position: relative;\n  width: 300px;\n  height: 500px;\n  box-shadow: 0 0 1rem 0 rgba(0, 0, 0, 0.2);\n  border-radius: 0.5rem;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  user-select: none;\n  .img-container {\n    position: relative;\n    height: 70%;\n    overflow: hidden;\n    transform: skewY(-10deg) translateY(-3.5rem);\n    box-shadow: 0 0 1rem 0 rgba(0, 0, 0, 0.2);\n    img {\n      height: 20rem;\n      object-fit: cover;\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      z-index: 1;\n    }\n    .error-message {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      position: absolute;\n      width: 100%;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      z-index: 2;\n      font-size: 2em;\n      .error-icon {\n        width: 3rem;\n        height: 3rem;\n      }\n    }\n  }\n  .rating {\n    display: block;\n    position: absolute;\n    top: 60%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    background-color: ",";\n    color: ",';\n    font-weight: bold;\n    text-align: center;\n    line-height: 4rem;\n    width: 4rem;\n    height: 4rem;\n    font-size: 1.2em;\n    border-radius: 50%;\n    box-shadow: 0 0 1rem 0 rgba(0, 0, 0, 0.2);\n  }\n  .movie-info {\n    position: relative;\n    z-index: 2;\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    padding: 1rem;\n    .title-date-container {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      margin-bottom: 0.5rem;\n      .movie-title {\n        flex: 1;\n        font-size: 1.5em;\n        font-weight: bold;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n      }\n      .release-date {\n        font-size: 1.2em;\n        width: 5rem;\n        text-align: center;\n      }\n    }\n    .overview {\n      position: relative;\n      height: 4.8em;\n      line-height: 1.2em;\n      font-size: 1em;\n      word-wrap: break-word;\n      overflow: hidden;\n      &:after {\n        content: "";\n        text-align: right;\n        position: absolute;\n        bottom: 0;\n        right: 0;\n        width: 50%;\n        height: 1.2em;\n        background: linear-gradient(\n          to right,\n          rgba(255, 255, 255, 0),\n          rgba(255, 255, 255, 1) 50%\n        );\n      }\n    }\n  }\n']);return C=function(){return e},e}var Y=Object(l.b)((function(e){var n=e.className,t=e.movie,a=t.title,o=t.overview,i=t.rating,c=t.release_date,s=t.poster_path;return r.a.createElement("div",{className:n},r.a.createElement("div",{className:"img-container"},r.a.createElement("img",{src:s,alt:"".concat(a),draggable:"false"}),!s&&r.a.createElement("div",{className:"error-message"},r.a.createElement(_.a,{className:"error-icon"}),r.a.createElement("span",null,"Poster Not Found."))),r.a.createElement("span",{className:"rating"},i),r.a.createElement("div",{className:"movie-info"},r.a.createElement("div",{className:"title-date-container"},r.a.createElement("span",{className:"movie-title"},a),r.a.createElement("span",{className:"release-date"},isNaN(c)?p(c):"Unknown")),r.a.createElement("p",{className:"overview"},o)))}))(C(),(function(e){return x(e.movie.rating).bg}),(function(e){return x(e.movie.rating).text}));function $(){var e=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 2rem;\n  .search-form {\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    "," {\n      width: 70%;\n      position: absolute;\n      z-index: 2;\n    }\n  }\n  .search-result {\n    position: relative;\n    top: 4rem;\n  }\n"]);return $=function(){return e},e}var B=Object(l.b)((function(e){var n=e.className,t=Object(a.useState)(),o=Object(s.a)(t,2),i=o[0],c=o[1];return r.a.createElement("div",{className:n},r.a.createElement("form",{className:"search-form",onSubmit:function(e){return e.preventDefault()}},r.a.createElement(S,{onSuggestionClick:function(e){console.log(e),c(e)}})),r.a.createElement("div",{className:"search-result"},i&&r.a.createElement(Y,{movie:i})))}))($(),S);function D(){var e=Object(c.a)(["\n  * {\n    padding: 0;\n    margin: 0;\n    box-sizing: border-box;\n  }\n  .logo {\n    margin-top: 2rem;\n  }\n"]);return D=function(){return e},e}var F=Object(l.a)(D());var J=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(u,null),r.a.createElement(B,null),r.a.createElement(F,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var L=t(8),M=new d.a({uri:"https://moogle-app.herokuapp.com"});i.a.render(r.a.createElement(L.a,{client:M},r.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.db155808.chunk.js.map